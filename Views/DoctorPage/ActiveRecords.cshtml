@model List<Record>;

<div class="d-flex flex-column flex-shrink-0 p-3 bg-light" style="width: 280px;">
    <a href="/ru/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
        <svg class="bi pe-none me-2" width="40" height="32">
            <use xlink:href="#bootstrap"></use>
        </svg> <span class="fs-4">Доктор</span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto">
        <li class="nav-item">
            <a asp-action="Index" class="nav-link active" aria-current="page">
                <svg class="bi pe-none me-2" width="16" height="16">
                    <use xlink:href="#home"></use>
                </svg>Профиль
            </a>
        </li>
        <li>
            <a asp-action="FreeRecords" class="nav-link link-dark">
                <svg class="bi pe-none me-2" width="16" height="16">
                    <use xlink:href="#speedometer2"></use>
                </svg>Список больных
            </a>
        </li>
        <li>
            <a asp-action="ActiveRecords" class="nav-link link-dark">
                <svg class="bi pe-none me-2" width="16" height="16">
                    <use xlink:href="#speedometer2"></use>
                </svg>Предстоящие визиты
            </a>
        </li>
        <li>
            <a asp-action="History" class="nav-link link-dark">
                <svg class="bi pe-none me-2" width="16" height="16">
                    <use xlink:href="#speedometer2"></use>
                </svg>Архив
            </a>
        </li>
        <li>
            <a asp-action="Settings" class="nav-link link-dark">
                <svg class="bi pe-none me-2" width="16" height="16">
                    <use xlink:href="#table"></use>
                </svg>Настройки
            </a>
        </li>
    </ul>
    <hr>
</div>
<div>
    @if (Model is null)
    {
        <p>Записей нет</p>
    }
    else
    {
        foreach (var record in Model)
        {
            <p>@record.FkPatientNavigation.Surname @record.FkPatientNavigation.Name @record.FkPatientNavigation.Patronymic</p>
            <p>Дата рождения: @record.FkPatientNavigation.Birthdate.Value.ToLongDateString() (@(DateTime.Today.Year - @record.FkPatientNavigation.Birthdate.Value.Year) лет)</p>
            <p>@record.FkPatientNavigation.Gender</p>
            <p>@record.FkServiceNavigation.NameService</p>
            <p>Номера телефонов:</p>
            foreach (var phone in record.FkPatientNavigation.FkUsersNavigation.Phonebooks)
            {
                <p>7 @phone</p>
            }
            @if (record.DateRecords is null){
                <p>Время не назначено</p>
            }
            else
            {
                <p>Назначено на @record.DateRecords.Value</p>
            }
            <form method="post" asp-action="EditOrder" asp-controller="Record" asp-route-id=@record.Id>
                <input type="time" name="Time">
                <input type="date" name="Date">
                <input type="submit" value="Изменить время"/>
            </form>
            <form method="post" asp-action="FinishOrder" asp-controller="Record" asp-route-id=@record.Id>
                <input type="submit" value="Поставить диагноз" />
            </form>
        }
    }
</div>