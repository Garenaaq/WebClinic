@page
@model WebClinic.Pages.Doctors.InactiveModel
@{
}

<div class="list-group">
    <ul class="nav nav-tabs" id="tab-example" role="tablist">
        <li class="nav-item">
            <a class="nav-link" id="second-tab" data-toggle="tab" role="tab" aria-controls="second-tab-content"
               aria-selected="false" asp-action="Index">Регистрация врача</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" id="second-tab" data-toggle="tab" role="tab" aria-controls="second-tab-content"
               aria-selected="false" asp-action="ShowDoctors">Работающие врачи</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="second-tab" data-toggle="tab" role="tab" aria-controls="second-tab-content"
               aria-selected="false" asp-action="ShowInactive">Архивированные учётные записи врачей</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" id="first-tab" data-toggle="tab" role="tab" aria-controls="first-tab-content"
               aria-selected="true" asp-action="AdminMenu" asp-controller="Admin">Назад в меню</a>
        </li>
    </ul>
    @foreach (var doctor in Model.Doctors)
    {
        <div class="list-group-item list-group-item-action mb-2 mt-2" style="border: 1px solid grey">
            <div class="d-flex w-100 justify-content-between">
                <h5 class="mb-1">@doctor.Surname @doctor.Name @doctor.Patronymic</h5>
                @foreach (var speciality in doctor.Specialities)
                {
                    <small>@speciality.NameSpeciality</small>
                }
            </div>
            <p class="mb-1">Дата рождения: @(doctor.Birthdate.ToLongDateString()) (@(DateTime.Today.Year - @doctor.Birthdate.Year) лет)</p>
            <small>@doctor.Gender</small>
            <form asp-action="MakeInactive" asp-route-id=@doctor.Id>
                <input class="btn btn-danger" type="submit" onclick="return archiveDoctor();" value="Архивировать учётную запись">
                <a class="btn btn-primary mt-2 mb-2" asp-action="EditDoctor" asp-route-id=@doctor.Id>Изменить</a>
            </form>
        </div>
    }
</div>
